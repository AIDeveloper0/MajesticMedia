<!-- Curator Club • Greenlight Tab (Part 3: Results) -->
<!-- Same frame size and color theme as Vault/Curator pages -->

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Curator Club – Greenlight Results</title>
  <style>
    :root{
      --steel: #9aa3ad;
      --steel-strong: #7e8791;
      --gunmetal: #0f141a;
      --screen: #15181c;
      --teal: #0bd3d3;
      --frame-thickness: 20px;
      --pulse-max-width: 1260px;
      --pulse-min-height: 900px;
      --pulse-left-width: 300px;
    }

    /* Frame (copied to match other pages) */
    .showcase-wrap{ width: calc(100% - 48px); max-width: var(--pulse-max-width); height: calc(100vh - 48px); min-height: var(--pulse-min-height); padding:28px; margin:0 auto; box-sizing:border-box; background:#000; display:flex; align-items:stretch; justify-content:center; }
    .showcase-content{ border:var(--frame-thickness) solid rgba(154,163,173,0.75); border-radius:10px; padding:22px; box-sizing:border-box; width:100%; background: linear-gradient(180deg, rgba(255,255,255,0.04), rgba(0,0,0,0.06)), radial-gradient(120% 100% at 50% 0%, rgba(255,255,255,0.06), rgba(255,255,255,0) 60%); box-shadow: inset 0 1px 0 rgba(255,255,255,0.2), inset 0 -1px 0 rgba(0,0,0,0.45), 0 10px 40px rgba(0,0,0,0.45); position:relative; }
    .entry{ display:flex; gap:18px; height:100%; }
    .entry-body{ flex:1; min-width:0; background:var(--screen); border:8px solid #121519; border-bottom-width:18px; border-radius:4px; position:relative; box-shadow: inset 0 0 0 1px rgba(255,255,255,0.05), inset 0 -10px 18px rgba(0,0,0,0.6); display:flex; flex-direction:column; }
    .screen-inner{ padding:18px 26px 0 26px; color:#e6eaef; font-family: Georgia, serif; display:flex; gap:38px; flex:1; }

    .entry-menu{ order:2; width:var(--pulse-left-width); display:flex; flex-direction:column; }
    .menu-list{ flex:1; list-style:none; margin:0; padding:16px 10px; border-left:8px solid #1b1f24; border-radius:6px; background: linear-gradient(180deg, rgba(0,0,0,.45), rgba(0,0,0,.55)), rgba(0,0,0,.35); }
    .menu-list li{ margin:8px 4px; padding:12px 10px; text-align:center; color:#e8edf2; font-weight:700; line-height:1.15; border-radius:8px; cursor:pointer; user-select:none; background: linear-gradient(180deg, rgba(255,255,255,0.08), rgba(255,255,255,0.02)), linear-gradient(180deg, rgba(154,163,173,0.28), rgba(154,163,173,0.14)); border:1px solid rgba(154,163,173,0.45); box-shadow: inset 0 1px 0 rgba(255,255,255,0.25), inset 0 -10px 18px rgba(0,0,0,0.35), 0 4px 10px rgba(0,0,0,0.45); }
    .menu-list li[data-active="false"]{ cursor:not-allowed; filter:grayscale(100%) brightness(.6) contrast(.9); color:#a9b0b6; opacity:.75; }

    /* Results layout */
    .results-wrap{ flex:1; width:100%; }
    .results-title{ font-size:28px; font-weight:800; margin:0 0 8px; }
    .results-sub{ opacity:.8; margin:0 0 18px; font-size:14px; }

    .results-list{ display:flex; flex-direction:column; gap:16px; }
    .result-item{ position:relative; padding:6px 14px; height:38px; display:flex; align-items:center; border-radius:4px; overflow:hidden; }
    .bar-fill{ position:absolute; inset:0 auto 0 0; width:0%; transition:width .6s ease; }
    .bar-label{ position:relative; font-weight:800; z-index:1; color:#fff; text-shadow: 0 1px 0 rgba(0,0,0,.6); }
    .bar-stats{ position:absolute; right:12px; z-index:1; font-weight:800; color:#fff; text-shadow: 0 1px 0 rgba(0,0,0,.6); }

    /* Bottom action bar */
    .vote-actions{ margin-top:auto; display:flex; gap:18px; align-items:center; }
    .vote-actions .ledge{ flex:1; height:28px; background: linear-gradient(180deg, #9aa3ad, #676f78); border-radius:3px; box-shadow: inset 0 2px 0 rgba(255,255,255,.25), inset 0 -2px 0 rgba(0,0,0,.45); display:flex; align-items:center; justify-content:center; color:#1b1f24; font-weight:800; font-size:22px; }
    .btn{ appearance:none; border:0; padding:12px 18px; font-weight:800; letter-spacing:.5px; border-radius:8px; color:#f1f5f9; cursor:pointer; background: linear-gradient(180deg, rgba(255,255,255,0.08), rgba(255,255,255,0.02)), linear-gradient(180deg, rgba(120,126,136,0.35), rgba(120,126,136,0.18)); border: 1px solid rgba(120,126,136,0.55); box-shadow: inset 0 1px 0 rgba(255,255,255,0.25), inset 0 -12px 20px rgba(0,0,0,0.4), 0 6px 16px rgba(0,0,0,0.5); }
    .btn-primary{ background: linear-gradient(180deg, rgba(255,255,255,0.10), rgba(255,255,255,0.02)), linear-gradient(180deg, rgba(154,163,173,0.5), rgba(154,163,173,0.22)); border:1px solid rgba(154,163,173,0.65); color:#111; text-shadow: 0 1px 0 rgba(255,255,255,.35); }

    @media (max-width: 1100px){ .bar-stats{ font-size: 12px; } }
  </style>
</head>
<body>
  <div class="showcase-wrap">
    <div class="showcase-content">
      <section class="entry">
        <!-- Left: results screen -->
        <div class="entry-body">
          <div class="screen-inner">
            <div class="results-wrap">
              <h2 class="results-title">Greenlight Results</h2>
              <p class="results-sub">Ranked by total points. Right side shows points and share of total. Bars are proportional to the top project.</p>

              <div id="results" class="results-list" aria-live="polite"></div>

              <div class="vote-actions">
                <div class="ledge">
                  <button class="btn btn-primary" id="changeBtn" type="button">Change Your Vote</button>
                </div>
                <button class="btn" id="tutorialBtn" type="button" aria-pressed="false">TUTORIAL</button>
              </div>
            </div>
          </div>
        </div>

        <!-- Right: menu -->
        <aside class="entry-menu" aria-label="Sections">
          <ul class="menu-list" id="menu">
            <li data-key="Greenlight"               data-active="true">Greenlight</li>
            <li data-key="The Chrono-Viewer Database" data-active="true">Chrono-Viewer<br/>Database</li>
            <li data-key="Simulated"                data-active="true">Simulated</li>
            <li data-key="Jackbox Party"            data-active="true">Jackbox Party</li>
            <li data-key="Forgotten Media"          data-active="true">Forgotten Media</li>
            <li data-key="The Stories We Tell"      data-active="true">The Stories<br/>We Tell</li>
            <li data-key="Hidden Talents"           data-active="false">Hidden Talents</li>
            <li data-key="Modern Tall Tales"        data-active="false">Modern Tall<br/>Tales</li>
            <li data-key="Unscripted"               data-active="false">Unscripted</li>
            <li data-key="The Bok Project"          data-active="false">The Bok Project</li>
            <li data-key="Pitch Your Idea"          data-active="true">Pitch Your Idea</li>
            <li data-key="Curator Discount"         data-active="true">Curator Discount</li>
          </ul>
        </aside>
      </section>
    </div>
  </div>

  <script>
    // Color mapping to evoke the screenshot
    const COLORS = {
      'The Chrono-Viewer': '#198c1e',
      'Jackbox Party': '#0f1f84',
      'The Order of Chaos': '#7b7a15',
      'Simulated': '#7c0c0c',
      'The Dire Realm': '#7a1183',
      'Forgotten Media': '#c27b16',
      'Hidden Talents': '#1aa5a5',
      'Interstellar': '#bfc3c7'
    };

    // Pull scores from storage or use demo matching the mock
    const DEMO = {
      'The Chrono-Viewer': 1000,
      'Jackbox Party': 900,
      'The Order of Chaos': 800,
      'Simulated': 700,
      'The Dire Realm': 600,
      'Forgotten Media': 500,
      'Hidden Talents': 400,
      'Interstellar': 300
    };

    const STORAGE_KEY = 'greenlightScores';
    const stored = (() => { try{ return JSON.parse(localStorage.getItem(STORAGE_KEY) || 'null'); }catch{ return null; } })();
    // Merge any stored values into demo so we always display something
    const scores = { ...DEMO, ...(stored || {}) };

    // Sort and compute totals
    const entries = Object.entries(scores).filter(([name, pts]) => typeof pts === 'number').sort((a,b) => b[1]-a[1]);
    const total = entries.reduce((s, [,v]) => s+v, 0) || 1;
    const top = entries.length ? entries[0][1] : 1;

    // Expose order for Projects page (optional future hook)
    localStorage.setItem('projectsOrder', JSON.stringify(entries.map(([n]) => n)));
    localStorage.setItem('projectScores', JSON.stringify(scores));

    const resultsEl = document.getElementById('results');
    entries.forEach(([name, pts]) => {
      const pct = (pts/total*100);
      const row = document.createElement('div');
      row.className = 'result-item';
      const fill = document.createElement('div');
      fill.className = 'bar-fill';
      fill.style.background = COLORS[name] || '#4b5563';
      fill.style.width = Math.max(4, (pts/top*100)) + '%';
      const label = document.createElement('div');
      label.className = 'bar-label';
      label.textContent = name;
      const stats = document.createElement('div');
      stats.className = 'bar-stats';
      stats.textContent = `${pts} - ${pct.toFixed(1)}%`;
      row.appendChild(fill);
      row.appendChild(label);
      row.appendChild(stats);
      resultsEl.appendChild(row);
    });

    // Change Your Vote navigates back to voting page
    document.getElementById('changeBtn').addEventListener('click', () => {
      window.location.href = 'Curators Club - Greenlight Voting.html';
    });
  </script>
</body>
</html>

